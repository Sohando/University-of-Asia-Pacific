TITLE: OFFLINE 3.2
.MODEL SMALL
.STACK 100H
.DATA
t0 DW ?
t1 DW ?
t2 DW ?
t3 DW ?
t4 DW ?
a DW ?, ?, ?
i DW ?
k DW ?
b DW ?, ?, ?, ?
c DW ?, ?, ?,'$'
p DW ?,'$'
.CODE
MAIN PROC
MOV AX,@DATA
MOV DS, AX
MOV AX, 'a'
LEA DI, c
ADD DI, 1
ADD DI, 1
MOV [DI] , AX
MOV AX, 'b'
MOV p, AX
MOV AX, 9
LEA DI, b
ADD DI, 1
ADD DI, 1
MOV [DI] , AX
MOV AX, 6
LEA DI, b
ADD DI, 2
ADD DI, 2
MOV [DI] , AX
MOV k, AX
MOV AX, 0
MOV i, AX
LEA DI, a
ADD DI, 1
ADD DI, 1
MOV AX, [DI]
MOV t1, AX
MOV AX, k
MOV BX, t1
MUL BX
MOV t2, AX
MOV AX, 2
MOV t0, AX
MOV AX, t2
LEA DI, b
ADD DI, 1
ADD DI, 1
MOV [DI] , AX
L2: 
MOV AX, i
CMP AX, 2
JL L0
MOV t3, 0
JMP L1
L0:
MOV t3, 1
L1:
MOV AX, t3
CMP AX, 1
JNE L3
LEA DI, a
ADD DI, 1
ADD DI, 1
MOV AX , [DI]
DEC AX
MOV [DI], AX
MOV AX, k
ADD AX, 9
MOV t4, AX
MOV k, AX
LEA DI, b
ADD DI, 1
ADD DI, 1
MOV AX, [DI]
INC AX 
MOV [DI], AX
INC i
JMP L2
L3: 
MOV AX, 5
CMP AX, 1
JNE L4
MOV AX, 5
LEA DI, a
MOV [DI] , AX
JMP L5
L4:
MOV AX, 10
LEA DI, a
MOV [DI] , AX
L5:
MOV AX, k
CALL OUTDEC
LEA DX,p
MOV AH, 9
INT 21H
MOV AH, 4CH
INT 21H
MAIN ENDP


OUTDEC PROC
PUSH AX
PUSH BX
PUSH CX
PUSH DX
OR AX,AX
JGE @END_IF1
PUSH AX
MOV DL,'-'
MOV AH,2
INT 21H
POP AX
NEG AX

@END_IF1:
XOR CX,CX
MOV BX,10D

@REPEAT1:
XOR DX,DX
DIV BX
PUSH DX
INC CX
OR AX,AX
JNE @REPEAT1

MOV AH,2

@PRINT_LOOP:

POP DX
OR DL,30H
INT 21H
LOOP @PRINT_LOOP

POP DX
POP CX
POP BX
POP AX
RET
OUTDEC ENDP

END MAIN

