TITLE: Code Generation
.MODEL SMALL
.STACK 100H
.DATA
t0 DW ?
t1 DW ?
t2 DW ?
a DW ?

.CODE
MAIN PROC
MOV AX, @DATA
MOV DS, AX
MOV AX, a
MOV t0, AX
MOV a, AX
MOV DX, 0
MOV AX, a
MOV t1, AX
MOV a, AX
MOV AX, 1
MOV a, AX
ADD AX, 1
MOV t2, AX
MOV a, AX
MOV AH, 4CH
INT 21H
MAIN ENDP


OUTDEC PROC
PUSH AX
PUSH BX
PUSH CX
PUSH DX
OR AX, AX
JGE @END_IF1
PUSH AX
MOV DL, '-'
MOV AH, 2
INT 21H
POP AX
NEG AX

@END_IF1:
XOR CX, CX
MOV BX, 10D

@REPEAT1:
XOR DX, DX
DIV BX
PUSH DX
INC CX
OR AX, AX
JNE @REPEAT1

MOV AH, 2

@PRINT_LOOP:

POP DX
OR DL, 30H
INT 21H
LOOP @PRINT_LOOP

POP DX
POP CX
POP BX
POP AX
RET
TDEC ENDP

END MAIN

